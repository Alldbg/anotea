module.exports = db => {
    return Promise.all([
        db.collection('trainee').createIndex({ 'trainee.email': 1, 'trainee.startDate': 1 }),
        db.collection('trainee').createIndex({ 'token': 1, 'formacode': 1, 'idSession': 1 }),
        db.collection('trainee').createIndex({ 'mailSentDate': 1 }),
        db.collection('trainee').createIndex({ 'codeRegion': 1 }),
        db.collection('comment').createIndex({ 'step': 1 }),
        db.collection('comment').createIndex({ 'formacode': 1 }),
        db.collection('comment').createIndex({ 'token': 1 }),
        db.collection('comment').createIndex({ 'codeRegion': 1 }),
        db.collection('comment').createIndex({ 'campaign': 1 }),
        db.collection('comment').createIndex({ 'published': 1 }),
        db.collection('comment').createIndex({ 'rejected': 1 }),
        db.collection('comment').createIndex({ 'date': 1 }),
        db.collection('comment').createIndex({ 'comment': 1 }),
        db.collection('comment').createIndex({ 'training.idFormation': 1 }),
        db.collection('comment').createIndex({ 'training.place.postalCode': 1 }),
        db.collection('comment').createIndex({ 'training.infoCarif.numeroAction': 1, 'step': 1 }),
        db.collection('comment').createIndex({ 'training.organisation.siret': 1, 'training.organisation.label': 1 }),
        db.collection('comment').createIndex({ 'training.organisation.siret': 1 }),
        db.collection('comment').createIndex({ 'training.certifInfo.id': 1 }),
        db.collection('forgottenPasswordTokens').createIndex({ 'token': 1 }),
        db.collection('invalidAuthTokens').createIndex({ 'creationDate': 1 }, { expireAfterSeconds: 86400 }),
        db.collection('financer').createIndex({ 'courriel': 1 }),
        db.collection('moderator').createIndex({ 'courriel': 1 }),
        db.collection('mailStats').createIndex({ 'token': 1 }),
        db.collection('departements').createIndex({ 'region': 'text' }),
        db.collection('departements').createIndex({ 'region_num': 1, 'dept_num': 1, 'region': 1 }),
        db.collection('departements').createIndex({ 'dept_num': 1 }),
        db.collection('organismes').createIndex({ 'numero': 1 }),
        db.collection('organismes').createIndex({ 'SIRET': 1 }),
        db.collection('organismes').createIndex({ 'score.nb_avis': 1 }),
        db.collection('organismes').createIndex({ 'lieux_de_formation.adresse.code_postal': 1 }),
        db.collection('organismes').createIndex({ 'lieux_de_formation.adresse.region': 1 }),
        db.collection('sessionsReconciliees').createIndex({ 'numero': 1 }),
        db.collection('sessionsReconciliees').createIndex({ 'region': 1 }),
        db.collection('sessionsReconciliees').createIndex({ 'score.nb_avis': 1 }),
        db.collection('actionsReconciliees').createIndex({ 'numero': 1 }),
        db.collection('actionsReconciliees').createIndex({ 'region': 1 }),
        db.collection('actionsReconciliees').createIndex({ 'score.nb_avis': 1 }),
        db.collection('regions').createIndex({ 'codeINSEE': 1 }),
        db.collection('regions').createIndex({ 'codeRegion': 1 }),
        db.collection('events').createIndex({ 'source.profile': 1 }),
        db.collection('events').createIndex({ 'source.user': 1 })
    ]);
};
